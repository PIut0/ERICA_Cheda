<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <title>Cheda</title>
        <!-- Slick.js - Open Source Javascript Framework-->
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css" />
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css" />
        <link rel="stylesheet" href="../static/css/font.css">
        <link rel="stylesheet" href="../static/css/index.css">
        <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=p7ll3jv67z"></script>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script type="text/javascript" src="http://cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>
    </head>

    <body>
        <div class="slogan_div">
            <div class="img_cover"></div>
            <p class="slogan">일상속 <span>체</span>험을 찾<span>다</span></p>
            <img class="logo_img" src="../static/img/logo_test1.png" alt="">
        </div>
        <div class="map_div">
            <div id="map"></div>
        </div>
        <div class="center_cards">
            <div class="slick_div">
                <div class="slick_content card card1" style="display: flex;">
                    <div class="place_img"></div>
                    <h1>싱글벙글 교육센터</h1>
                    <button id="btn1" onclick="location.href='/sb/'">자세히 보기</button>
                </div>
                <div class="slick_content card card2">
                    <div class="place_img"></div>
                    <h1>관악구 평생학습관</h1>
                    <button id="btn2" onclick="location.href='/forever/'">자세히 보기</button>
                </div>
                <div class="slick_content card card3">
                    <div class="place_img"></div>
                    <h1>낙성대동 주민센터</h1>
                    <button id="btn3" onclick="location.href='/nak/'">자세히 보기</button>
                </div>
                <div class="slick_content card card4">
                    <div class="place_img"></div>
                    <h1>서울대학교</h1>
                    <button id="btn4" onclick="location.href='/snu/'">자세히 보기</button>
                </div>
                <div class="slick_content card card5">
                    <div class="place_img"></div>
                    <h1>미림여자 정보고등학교</h1>
                    <button id="btn5" onclick="location.href='/mirim/'">자세히 보기</button>
                </div>
                <div class="slick_content card card6">
                    <div class="place_img"></div>
                    <h1>관악 구민회관</h1>
                    <button id="btn6" onclick="location.href='/gumin/'">자세히 보기</button>
                </div>
            </div>
        </div>
    </body>
    <script>
        // 싱글벙글 교육센터 : 37.476059, 126.956226
        // 평생학습관 : 37.482906, 126.922407
        // 낙성대동 주민센터 : 37.476303, 126.958494
        // 서울대학교 : 37.463893, 126.952220
        // 미림여자 정보고등학교 : 37.466357, 126.932800
        // 관악 구민회관 : 37.477086, 126.951059

        var mapOptions = {
            useStyleMap: true,
            minZoom: 14,
            center: naver.maps.LatLng(37.476698, 126.937292),
            zoom: 14,
        };

        var map = new naver.maps.Map('map', mapOptions);

        var sb_pos = new naver.maps.LatLng(37.476059, 126.956226);      // 싱글벙글 교육센터
        var forever_pos = new naver.maps.LatLng(37.482906, 126.922407); // 평생학습관
        var nak_pos = new naver.maps.LatLng(37.476303, 126.958494);     // 낙성대동 주민센터
        var snu_pos = new naver.maps.LatLng(37.463893, 126.952220);     // 서울대학교
        var mirim_pos = new naver.maps.LatLng(37.466357, 126.932800);   // 미림여자 정보고등학교
        var gumin_pos = new naver.maps.LatLng(37.477086, 126.951059);   // 관악 구민회관

        var sb_marker = new naver.maps.Marker({
            map: map,
            position: sb_pos
        });
        var forever_marker = new naver.maps.Marker({
            map: map,
            position: forever_pos
        });
        var nak_marker = new naver.maps.Marker({
            map: map,
            position: nak_pos
        });
        var snu_marker = new naver.maps.Marker({
            map: map,
            position: snu_pos
        });
        var mirim_marker = new naver.maps.Marker({
            map: map,
            position: mirim_pos
        });
        var gumin_marker = new naver.maps.Marker({
            map: map,
            position: gumin_pos
        });

        var sb_map_content = [
            '<div class="map_content" style="padding:14px;">',
            '   <h3>싱글벙글 교육센터</h3>',
            '   <p>서울 관악구 남부순환로234길 73 | 봉천동 산56-3</p>',
            '   <button id="btn3" onclick="location.href=`/sb/`">자세히 보기</button>',
            '</div>'
        ].join('');
        var forever_map_content = [
            '<div class="map_content" style="padding:14px;">',
            '   <h3>관악구 평생학습관</h3>',
            '   <p>서울 관악구 남부순환로 1546 | 신림동 1577-4</p>',
            '   <button id="btn3" onclick="location.href=`/forever/`">자세히 보기</button>',
            '</div>'
        ].join('');
        var nak_map_content = [
            '<div class="map_content" style="padding:14px;">',
            '   <h3>낙성대동 주민센터</h3>',
            '   <p>서울 관악구 낙성대로4가길 5 | 봉천동 1624-24</p>',
            '   <button id="btn3" onclick="location.href=`/nak/`">자세히 보기</button>',
            '</div>'
        ].join('');
        var snu_map_content = [
            '<div class="map_content" style="padding:14px;">',
            '   <h3>서울대학교</h3>',
            '   <p>서울 관악구 관악로 1 | 신림동 산56-1</p>',
            '   <button id="btn3" onclick="location.href=`/snu/`">자세히 보기</button>',
            '</div>'
        ].join('');
        var mirim_map_content = [
            '<div class="map_content" style="padding:14px;">',
            '   <h3>미림여자 정보고등학교</h3>',
            '   <p>서울 관악구 호암로 546 | 신림동 1557-1</p>',
            '   <button id="btn3" onclick="location.href=`/mirim/`">자세히 보기</button>',
            '</div>'
        ].join('');
        var gumin_map_content = [
            '<div class="map_content" style="padding:14px;">',
            '   <h3>관악 구민회관</h3>',
            '   <p>서울 관악구 관악로5길 95 | 봉천동 1589-13</p>',
            '   <button id="btn3" onclick="location.href=`/gumin/`">자세히 보기</button>',
            '</div>'
        ].join('');


        var sb_infowindow = new naver.maps.InfoWindow({
            content: sb_map_content,
            backgroundColor: "white",
            borderColor: "#fbb03b",
            borderWidth: 3,
            anchorSize: new naver.maps.Size(10, 5),
            pixelOffset: new naver.maps.Point(0, -10)
        });
        var forever_infowindow = new naver.maps.InfoWindow({
            content: forever_map_content,
            backgroundColor: "white",
            borderColor: "#fbb03b",
            borderWidth: 3,
            anchorSize: new naver.maps.Size(10, 5),
            pixelOffset: new naver.maps.Point(0, -10)
        });
        var nak_infowindow = new naver.maps.InfoWindow({
            content: nak_map_content,
            backgroundColor: "white",
            borderColor: "#fbb03b",
            borderWidth: 3,
            anchorSize: new naver.maps.Size(10, 5),
            pixelOffset: new naver.maps.Point(0, -10)
        });
        var snu_infowindow = new naver.maps.InfoWindow({
            content: snu_map_content,
            backgroundColor: "white",
            borderColor: "#fbb03b",
            borderWidth: 3,
            anchorSize: new naver.maps.Size(10, 5),
            pixelOffset: new naver.maps.Point(0, -10)
        });
        var mirim_infowindow = new naver.maps.InfoWindow({
            content: mirim_map_content,
            backgroundColor: "white",
            borderColor: "#fbb03b",
            borderWidth: 3,
            anchorSize: new naver.maps.Size(10, 5),
            pixelOffset: new naver.maps.Point(0, -10)
        });
        var gumin_infowindow = new naver.maps.InfoWindow({
            content: gumin_map_content,
            backgroundColor: "white",
            borderColor: "#fbb03b",
            borderWidth: 3,
            anchorSize: new naver.maps.Size(10, 5),
            pixelOffset: new naver.maps.Point(0, -10)
        });
        
        naver.maps.Event.addListener(sb_marker, "click", (e) => {
            if(sb_infowindow.getMap()){
                sb_infowindow.close();
            }
            else{
                sb_infowindow.open(map, sb_marker);
            }
        });
        naver.maps.Event.addListener(forever_marker, "click", (e) => {
            if(forever_infowindow.getMap()){
                forever_infowindow.close();
            }
            else{
                forever_infowindow.open(map, forever_marker);
            }
        });
        naver.maps.Event.addListener(nak_marker, "click", (e) => {
            if(nak_infowindow.getMap()){
                nak_infowindow.close();
            }
            else{
                nak_infowindow.open(map, nak_marker);
            }
        });
        naver.maps.Event.addListener(snu_marker, "click", (e) => {
            if(snu_infowindow.getMap()){
                snu_infowindow.close();
            }
            else{
                snu_infowindow.open(map, snu_marker);
            }
        });
        naver.maps.Event.addListener(mirim_marker, "click", (e) => {
            if(mirim_infowindow.getMap()){
                mirim_infowindow.close();
            }
            else{
                mirim_infowindow.open(map, mirim_marker);
            }
        });
        naver.maps.Event.addListener(gumin_marker, "click", (e) => {
            if(gumin_infowindow.getMap()){
                gumin_infowindow.close();
            }
            else{
                gumin_infowindow.open(map, gumin_marker);
            }
        });

        function move(pos,dur,info,marker){
            setTimeout(map.setZoom(17,true), dur);
            map.panTo(pos);
            setTimeout(() => {
                if(!info.getMap()){
                    info.open(map,marker);
                }
            },dur);
        }
        
        $('.card1').on("click",function(e){
            e.preventDefault();
            move(sb_pos,300,sb_infowindow,sb_marker);
        });
        $('.card2').on("click",function(e){
            e.preventDefault();
            move(forever_pos,300,forever_infowindow,forever_marker);
        });
        $('.card3').on("click",function(e){
            e.preventDefault();
            move(nak_pos,300,nak_infowindow,nak_marker);
        });
        $('.card4').on("click",function(e){
            e.preventDefault();
            move(snu_pos,300,snu_infowindow,snu_marker);
        });
        $('.card5').on("click",function(e){
            e.preventDefault();
            move(mirim_pos,300,mirim_infowindow,mirim_marker);
        });
        $('.card6').on("click",function(e){
            e.preventDefault();
            move(gumin_pos,300,gumin_infowindow,gumin_marker);
        });

        // sb_infowindow.open(map, sb_marker);

        var polygon = new naver.maps.Polygon({
            map: map,
            paths: [
                [
                    new naver.maps.LatLng(37.479254, 126.899109),
                    new naver.maps.LatLng(37.484870, 126.903254),
                    new naver.maps.LatLng(37.486516, 126.911762),
                    new naver.maps.LatLng(37.489693, 126.918268),
                    new naver.maps.LatLng(37.489919, 126.924345),
                    new naver.maps.LatLng(37.494571, 126.927206),
                    new naver.maps.LatLng(37.492243, 126.935571),
                    new naver.maps.LatLng(37.492128, 126.944365),
                    new naver.maps.LatLng(37.493943, 126.946105),
                    new naver.maps.LatLng(37.490209, 126.953130),
                    new naver.maps.LatLng(37.493656, 126.960219),
                    new naver.maps.LatLng(37.485481, 126.962000),
                    new naver.maps.LatLng(37.483828, 126.961106),
                    new naver.maps.LatLng(37.482079, 126.962951),
                    new naver.maps.LatLng(37.478913, 126.964259),
                    new naver.maps.LatLng(37.476644, 126.968366),
                    new naver.maps.LatLng(37.468809, 126.969795),
                    new naver.maps.LatLng(37.461864, 126.960089),
                    new naver.maps.LatLng(37.462063, 126.948243),   //snu
                    // new naver.maps.LatLng(37.466779, 126.941456),
                    new naver.maps.LatLng(37.464216, 126.940809),
                    new naver.maps.LatLng(37.458557, 126.928285),
                    new naver.maps.LatLng(37.461271, 126.924286),
                    new naver.maps.LatLng(37.457524, 126.921108),
                    new naver.maps.LatLng(37.459818, 126.915038),
                    new naver.maps.LatLng(37.463833, 126.913978),
                    new naver.maps.LatLng(37.469535, 126.911605),
                    new naver.maps.LatLng(37.474916, 126.912921),
                    new naver.maps.LatLng(37.480919, 126.909805),
                    new naver.maps.LatLng(37.479254, 126.899109)
                ]
            ],
            fillColor: '#fb6c3b',
            fillOpacity: 0.045,
            strokeColor: '#fb6c3b',
            strokeOpacity: 0.9,
            strokeWeight: 6
        });

        $(document).ready(() => {
            $('.slick_div').slick({
                dots: true,
                infinite: true,
                slidesToShow: 4,
                slidesToScroll: 2,

            });
            $('.card').css("display","flex");
        });
        
    </script>

</html>